{"ast":null,"code":"import _slicedToArray from \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport apiClient from './http-common';\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\n  const get_note_id = useRef(null);\n  const get_note_title = useRef(null);\n  const get_note_text = useRef(null);\n  const get_note_date = useRef(null);\n  const get_note_user_id = useRef(null);\n  const get_user_id = useRef(null);\n  const get_username = useRef(null);\n  const get_user_first_name = useRef(null);\n  const get_user_last_name = useRef(null);\n  const get_user_email = useRef(null);\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        getResult = _useState2[0],\n        setGetResult = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        notes = _useState4[0],\n        setNotes = _useState4[1];\n\n  const formatResponse = res => {\n    return JSON.stringify(res, null, 2);\n  };\n\n  async function getUserData() {\n    try {\n      const res = await apiClient.get(\"/users\" + localStorage.getItem(\"user_id\"), {\n        headers: {\n          \"Authorization\": localStorage.getItem(\"sessionHeader\")\n        }\n      });\n      const result = {\n        status: res.status,\n        headers: res.headers,\n        data: res.data\n      };\n      setGetResult(formatResponse(result));\n    } catch (err) {\n      var _err$response;\n\n      setGetResult(formatResponse(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err));\n    }\n\n    function addNote(newNote) {\n      setNotes(prevNotes => {\n        return [...prevNotes, newNote];\n      });\n    } // => as function to shorten my code\n\n\n    function deleteNote(id) {\n      setNotes(prevNotes => {\n        return prevNotes.filter((noteItem, index) => {\n          return index !== id;\n        });\n      });\n    }\n\n    function createAccount(infoList) {\n      return React.createElement(Account, {\n        key: infoList.user_id,\n        img: infoList.imgurl,\n        uname: infoList.userName,\n        fname: infoList.first_name,\n        lname: infoList.last_name,\n        email: infoList.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n\n    const _useState5 = useState(true),\n          _useState6 = _slicedToArray(_useState5, 2),\n          authLoading = _useState6[0],\n          setAuthLoading = _useState6[1];\n\n    useEffect(() => {\n      const token = getToken();\n\n      if (!token) {\n        return;\n      }\n\n      axios.get(`\"http://localhost:8080/api/auth/signin\"/verifyToken?token=${token}`).then(response => {\n        setUserSession(response.data.accessToken, response.data.username);\n        setAuthLoading(false);\n      }).catch(error => {\n        removeUserSession();\n        setAuthLoading(false);\n      });\n    }, []);\n\n    if (authLoading && getToken()) {\n      return React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Checking Authentication...\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      exact: true,\n      activeClassName: \"active\",\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Home\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Login\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/Dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Logout\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/Note\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Add note\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"User Info\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/notes/create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"create\"), React.createElement(NavLink, {\n      activeClassName: \"active\",\n      to: \"/notes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"User Info\")), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      path: \"/Account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: getUserData,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Get User Info\"), React.createElement(\"div\", {\n      className: \"clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4 animated fadeIn\",\n      key: data.id.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: data.picture.large,\n      className: \"card-img-top\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      ref: get_user_first_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \" \"), React.createElement(\"a\", {\n      ref: get_user_last_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"card-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      ref: get_username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"phone\",\n      ref: get_user_email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })))))))), React.createElement(PublicRoute, {\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      path: \"/dashboard\",\n      component: Dashboard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      path: \"/Note\",\n      component: Note,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(CreateArea, {\n      onAdd: addNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), notes.map((noteItem, index) => {\n      return React.createElement(Note, {\n        key: index,\n        id: index,\n        title: noteItem.title,\n        content: noteItem.content,\n        onDelete: deleteNote,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      });\n    }))), React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Notes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/notes/:id/edit\",\n      component: EditNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/notes/create\",\n      component: CreateNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }))))));\n  }\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js"],"names":["React","useState","useEffect","useRef","BrowserRouter","Switch","Route","NavLink","axios","Account","Login","infoList","Dashboard","CreateArea","PrivateRoute","PublicRoute","Home","Profile","Note","getToken","removeUserSession","setUserSession","apiClient","Notes","EditNote","CreateNote","App","get_note_id","get_note_title","get_note_text","get_note_date","get_note_user_id","get_user_id","get_username","get_user_first_name","get_user_last_name","get_user_email","getResult","setGetResult","notes","setNotes","formatResponse","res","JSON","stringify","getUserData","get","localStorage","getItem","headers","result","status","data","err","response","addNote","newNote","prevNotes","deleteNote","id","filter","noteItem","index","createAccount","user_id","imgurl","userName","first_name","last_name","email","authLoading","setAuthLoading","token","then","accessToken","username","catch","error","value","picture","large","map","title","content"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport apiClient from './http-common';\n\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\nconst get_note_id = useRef(null);\nconst get_note_title = useRef(null);\nconst get_note_text = useRef(null);\nconst get_note_date = useRef(null);\nconst get_note_user_id = useRef(null);\n\nconst get_user_id = useRef(null);\nconst get_username = useRef(null);\nconst get_user_first_name = useRef(null);\nconst get_user_last_name = useRef(null);\nconst get_user_email = useRef(null);\n\n\nconst [getResult, setGetResult] = useState(null);\n\nconst [notes, setNotes] = useState([]);\nconst formatResponse = (res) => {\n  return JSON.stringify(res, null, 2);\n};\n\n\n\n\nasync function getUserData(){\n  try {\n    const res = await apiClient.get(\"/users\"+localStorage.getItem(\"user_id\"),\n    {headers: { \"Authorization\" : localStorage.getItem(\"sessionHeader\")},\n  });\n  const result = {\n    status: res.status,\n    headers: res.headers,\n    data: res.data \n  };\n  setGetResult(formatResponse(result));\n\n} catch (err) {\n  setGetResult(formatResponse(err.response?.data|| err))\n}\n\n\n\n\n\n\n\n\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  }\n// => as function to shorten my code\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n\n\n  function createAccount(infoList) {\n    return (\n      <Account\n        key={infoList.user_id}\n        img={infoList.imgurl}\n        uname={infoList.userName}\n        fname={infoList.first_name}\n        lname={infoList.last_name}\n        email={infoList.email}\n      />\n      \n    );\n  }\n\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios.get(`\"http://localhost:8080/api/auth/signin\"/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.accessToken, response.data.username);\n      setAuthLoading(false);\n    }).catch(error => {\n      removeUserSession();\n      setAuthLoading(false);\n    });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"header\">\n          <NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink>\n\n            <NavLink activeClassName=\"active\" to=\"/login\">Login</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Dashboard\">Logout</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Note\">Add note</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/account\">User Info</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes/create\">create</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes\">User Info</NavLink>\n\n\n\n          </div>\n          <div className=\"content\">\n            <Switch>\n              \n            <Route exact path=\"/\" component={Home} />\n\n            <PrivateRoute path=\"/Account\">\n            <button className=\"btn btn-sm btn-primary\" onClick={getUserData}>Get User Info</button>\n\n            <div className=\"clearfix\">\n        <div className=\"row\">\n          \n            <div className=\"col-md-4 animated fadeIn\" key={data.id.value}>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"avatar\">\n                    <img\n                      src={data.picture.large}\n                      className=\"card-img-top\"\n                      alt=\"\"\n                    />\n                  </div>\n                  <h5 className=\"card-title\">\n                    <a ref={get_user_first_name}> </a>\n                    <a ref={get_user_last_name}></a>\n                  </h5>\n                  <p className=\"card-text\">\n                    <a ref={get_username}></a>\n                      <br />\n                      \n                    <span className=\"phone\" ref={get_user_email}></span>\n                  </p>\n                </div>\n              </div>\n              </div>\n            </div>\n            </div>\n              </PrivateRoute>\n              <PublicRoute path=\"/login\" component={Login} />\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n                <PrivateRoute  path=\"/Note\" component={Note}>\n\n                    \n                    <div>\n                    <CreateArea onAdd={addNote} />\n                  {notes.map((noteItem, index) => {\n                    return (\n                      <Note\n                        key={index}\n                        id={index}\n                        title={noteItem.title}\n                        content={noteItem.content}\n                        onDelete={deleteNote}\n                      />\n                    );\n                  })} \n                    </div>\n                  </PrivateRoute>\n\n                  <Route exact path=\"/\" component={Notes} />\n                <Route exact path=\"/notes/:id/edit\" component={EditNote} />\n                <Route exact path=\"/notes/create\" component={CreateNote} />\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}