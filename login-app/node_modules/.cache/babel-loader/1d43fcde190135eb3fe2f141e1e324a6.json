{"ast":null,"code":"import _slicedToArray from \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport apiClient from './http-common';\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\n  const get_note_id = useRef(null);\n  const get_note_title = useRef(null);\n  const get_note_text = useRef(null);\n  const get_note_date = useRef(null);\n  const get_note_user_id = useRef(null);\n  const get_user_id = useRef(null);\n  const get_username = useRef(null);\n  const get_user_first_name = useRef(null);\n  const get_user_last_name = useRef(null);\n  const get_user_email = useRef(null);\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        getResult = _useState2[0],\n        setGetResult = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        notes = _useState4[0],\n        setNotes = _useState4[1];\n\n  const formatResponse = res => {\n    return JSON.stringify(res, null, 2);\n  };\n\n  async function getUserData() {\n    const res = await apiClient.get(\"/users\" + localStorage.getItem(\"user_id\"), {\n      headers: {\n        \"Authorization\": localStorage.getItem(\"sessionHeader\")\n      }\n    });\n    const result = {\n      status: res.status,\n      headers: res.headers,\n      data: res.data\n    };\n    setGetResult(formatResponse(result));\n  }\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  } // => as function to shorten my code\n\n\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        authLoading = _useState6[0],\n        setAuthLoading = _useState6[1];\n\n  useEffect(() => {\n    const token = getToken();\n\n    if (!token) {\n      return;\n    }\n\n    axios.get(`\"http://localhost:8080/api/auth/signin\"/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.accessToken, response.data.username);\n      setAuthLoading(false);\n    }).catch(error => {\n      removeUserSession();\n      setAuthLoading(false);\n    });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Checking Authentication...\");\n  }\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"active\",\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Home\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Login\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/Dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Logout\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/Note\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Add note\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"User Info\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/notes/create\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"create\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/notes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"User Info\")), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/Account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-sm btn-primary\",\n    onClick: getUserData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Get User Info\"), React.createElement(\"div\", {\n    className: \"clearfix\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-4 animated fadeIn\",\n    key: data.id.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"card-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"avatar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: data.picture.large,\n    className: \"card-img-top\",\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(\"h5\", {\n    className: \"card-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    ref: get_user_first_name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \" \"), React.createElement(\"a\", {\n    ref: get_user_last_name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    className: \"card-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    ref: get_username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"phone\",\n    ref: get_user_email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })))))))), React.createElement(PublicRoute, {\n    path: \"/login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/dashboard\",\n    component: Dashboard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/Note\",\n    component: Note,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(CreateArea, {\n    onAdd: addNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), notes.map((noteItem, index) => {\n    return React.createElement(Note, {\n      key: index,\n      id: index,\n      title: noteItem.title,\n      content: noteItem.content,\n      onDelete: deleteNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    });\n  }))), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Notes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/notes/:id/edit\",\n    component: EditNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/notes/create\",\n    component: CreateNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js"],"names":["React","useState","useEffect","useRef","BrowserRouter","Switch","Route","NavLink","axios","Account","Login","infoList","Dashboard","CreateArea","PrivateRoute","PublicRoute","Home","Profile","Note","getToken","removeUserSession","setUserSession","apiClient","Notes","EditNote","CreateNote","App","get_note_id","get_note_title","get_note_text","get_note_date","get_note_user_id","get_user_id","get_username","get_user_first_name","get_user_last_name","get_user_email","getResult","setGetResult","notes","setNotes","formatResponse","res","JSON","stringify","getUserData","get","localStorage","getItem","headers","result","status","data","addNote","newNote","prevNotes","deleteNote","id","filter","noteItem","index","authLoading","setAuthLoading","token","then","response","accessToken","username","catch","error","value","picture","large","map","title","content"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,EAAuCC,OAAvC,QAAsD,kBAAtD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,SAASC,QAAT,EAAmBC,iBAAnB,EAAsCC,cAAtC,QAA4D,gBAA5D;AACA,OAAOC,SAAP,MAAsB,eAAtB;AAEA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;;AAEA,SAASC,GAAT,GAAe;AACf,QAAMC,WAAW,GAAGxB,MAAM,CAAC,IAAD,CAA1B;AACA,QAAMyB,cAAc,GAAGzB,MAAM,CAAC,IAAD,CAA7B;AACA,QAAM0B,aAAa,GAAG1B,MAAM,CAAC,IAAD,CAA5B;AACA,QAAM2B,aAAa,GAAG3B,MAAM,CAAC,IAAD,CAA5B;AACA,QAAM4B,gBAAgB,GAAG5B,MAAM,CAAC,IAAD,CAA/B;AAEA,QAAM6B,WAAW,GAAG7B,MAAM,CAAC,IAAD,CAA1B;AACA,QAAM8B,YAAY,GAAG9B,MAAM,CAAC,IAAD,CAA3B;AACA,QAAM+B,mBAAmB,GAAG/B,MAAM,CAAC,IAAD,CAAlC;AACA,QAAMgC,kBAAkB,GAAGhC,MAAM,CAAC,IAAD,CAAjC;AACA,QAAMiC,cAAc,GAAGjC,MAAM,CAAC,IAAD,CAA7B;;AAXe,oBAcmBF,QAAQ,CAAC,IAAD,CAd3B;AAAA;AAAA,QAcRoC,SAdQ;AAAA,QAcGC,YAdH;;AAAA,qBAgBWrC,QAAQ,CAAC,EAAD,CAhBnB;AAAA;AAAA,QAgBRsC,KAhBQ;AAAA,QAgBDC,QAhBC;;AAiBf,QAAMC,cAAc,GAAIC,GAAD,IAAS;AAC9B,WAAOC,IAAI,CAACC,SAAL,CAAeF,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAAP;AACD,GAFD;;AAOA,iBAAeG,WAAf,GAA4B;AAExB,UAAMH,GAAG,GAAG,MAAMpB,SAAS,CAACwB,GAAV,CAAc,WAASC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAvB,EAClB;AAACC,MAAAA,OAAO,EAAE;AAAE,yBAAkBF,YAAY,CAACC,OAAb,CAAqB,eAArB;AAApB;AAAV,KADkB,CAAlB;AAGF,UAAME,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAET,GAAG,CAACS,MADC;AAEbF,MAAAA,OAAO,EAAEP,GAAG,CAACO,OAFA;AAGbG,MAAAA,IAAI,EAAEV,GAAG,CAACU;AAHG,KAAf;AAKAd,IAAAA,YAAY,CAACG,cAAc,CAACS,MAAD,CAAf,CAAZ;AACD;;AAUC,WAASG,OAAT,CAAiBC,OAAjB,EAA0B;AACxBd,IAAAA,QAAQ,CAACe,SAAS,IAAI;AACpB,aAAO,CAAC,GAAGA,SAAJ,EAAeD,OAAf,CAAP;AACD,KAFO,CAAR;AAGD,GAjDY,CAkDf;;;AACE,WAASE,UAAT,CAAoBC,EAApB,EAAwB;AACtBjB,IAAAA,QAAQ,CAACe,SAAS,IAAI;AACpB,aAAOA,SAAS,CAACG,MAAV,CAAiB,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAC3C,eAAOA,KAAK,KAAKH,EAAjB;AACD,OAFM,CAAP;AAGD,KAJO,CAAR;AAKD;;AAzDY,qBA6DyBxD,QAAQ,CAAC,IAAD,CA7DjC;AAAA;AAAA,QA6DN4D,WA7DM;AAAA,QA6DOC,cA7DP;;AA+Db5D,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM6D,KAAK,GAAG5C,QAAQ,EAAtB;;AACA,QAAI,CAAC4C,KAAL,EAAY;AACV;AACD;;AAEDvD,IAAAA,KAAK,CAACsC,GAAN,CAAW,6DAA4DiB,KAAM,EAA7E,EAAgFC,IAAhF,CAAqFC,QAAQ,IAAI;AAC/F5C,MAAAA,cAAc,CAAC4C,QAAQ,CAACb,IAAT,CAAcc,WAAf,EAA4BD,QAAQ,CAACb,IAAT,CAAce,QAA1C,CAAd;AACAL,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAHD,EAGGM,KAHH,CAGSC,KAAK,IAAI;AAChBjD,MAAAA,iBAAiB;AACjB0C,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAND;AAOD,GAbQ,EAaN,EAbM,CAAT;;AAeA,MAAID,WAAW,IAAI1C,QAAQ,EAA3B,EAA+B;AAC7B,WAAO;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAP;AACD;;AAED,SACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,OAAD;AAAS,IAAA,KAAK,MAAd;AAAe,IAAA,eAAe,EAAC,QAA/B;AAAwC,IAAA,EAAE,EAAC,GAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAGE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,EAIE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,EAKE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,EAME,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,UAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,EAOE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,eAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF,EAQE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,CADF,EAcE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEH,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,EAIA,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAQ,IAAA,SAAS,EAAC,wBAAlB;AAA2C,IAAA,OAAO,EAAE6B,WAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,EAGA;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACJ;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAK,IAAA,SAAS,EAAC,0BAAf;AAA0C,IAAA,GAAG,EAAEO,IAAI,CAACK,EAAL,CAAQa,KAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,GAAG,EAAElB,IAAI,CAACmB,OAAL,CAAaC,KADpB;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAQE;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,GAAG,EAAEtC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAEE;AAAG,IAAA,GAAG,EAAEC,kBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CARF,EAYE;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,GAAG,EAAEF,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAIE;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAwB,IAAA,GAAG,EAAEG,cAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAZF,CADF,CADF,CAFJ,CADI,CAHA,CAJA,EAoCE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAC,QAAlB;AAA2B,IAAA,SAAS,EAAE1B,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApCF,EAqCE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAC,YAAnB;AAAgC,IAAA,SAAS,EAAEE,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArCF,EAsCI,oBAAC,YAAD;AAAe,IAAA,IAAI,EAAC,OAApB;AAA4B,IAAA,SAAS,EAAEM,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAEmC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAEDd,KAAK,CAACkC,GAAN,CAAU,CAACd,QAAD,EAAWC,KAAX,KAAqB;AAC9B,WACE,oBAAC,IAAD;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,EAAE,EAAEA,KAFN;AAGE,MAAA,KAAK,EAAED,QAAQ,CAACe,KAHlB;AAIE,MAAA,OAAO,EAAEf,QAAQ,CAACgB,OAJpB;AAKE,MAAA,QAAQ,EAAEnB,UALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AASD,GAVA,CAFC,CAHJ,CAtCJ,EAyDM,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAEjC,KAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzDN,EA0DI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,iBAAlB;AAAoC,IAAA,SAAS,EAAEC,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1DJ,EA2DI,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,eAAlB;AAAkC,IAAA,SAAS,EAAEC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3DJ,CADF,CAdF,CADF,CADF,CADF;AAoFD;;AAED,eAAeC,GAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport apiClient from './http-common';\n\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\nconst get_note_id = useRef(null);\nconst get_note_title = useRef(null);\nconst get_note_text = useRef(null);\nconst get_note_date = useRef(null);\nconst get_note_user_id = useRef(null);\n\nconst get_user_id = useRef(null);\nconst get_username = useRef(null);\nconst get_user_first_name = useRef(null);\nconst get_user_last_name = useRef(null);\nconst get_user_email = useRef(null);\n\n\nconst [getResult, setGetResult] = useState(null);\n\nconst [notes, setNotes] = useState([]);\nconst formatResponse = (res) => {\n  return JSON.stringify(res, null, 2);\n};\n\n\n\n\nasync function getUserData(){\n  \n    const res = await apiClient.get(\"/users\"+localStorage.getItem(\"user_id\"),\n    {headers: { \"Authorization\" : localStorage.getItem(\"sessionHeader\")}\n  });\n  const result = {\n    status: res.status,\n    headers: res.headers,\n    data: res.data \n  };\n  setGetResult(formatResponse(result));\n}\n\n\n\n\n\n\n\n\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  }\n// => as function to shorten my code\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n\n\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios.get(`\"http://localhost:8080/api/auth/signin\"/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.accessToken, response.data.username);\n      setAuthLoading(false);\n    }).catch(error => {\n      removeUserSession();\n      setAuthLoading(false);\n    });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"header\">\n          <NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink>\n\n            <NavLink activeClassName=\"active\" to=\"/login\">Login</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Dashboard\">Logout</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Note\">Add note</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/account\">User Info</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes/create\">create</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes\">User Info</NavLink>\n\n\n\n          </div>\n          <div className=\"content\">\n            <Switch>\n              \n            <Route exact path=\"/\" component={Home} />\n\n            <PrivateRoute path=\"/Account\">\n            <button className=\"btn btn-sm btn-primary\" onClick={getUserData}>Get User Info</button>\n\n            <div className=\"clearfix\">\n        <div className=\"row\">\n          \n            <div className=\"col-md-4 animated fadeIn\" key={data.id.value}>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"avatar\">\n                    <img\n                      src={data.picture.large}\n                      className=\"card-img-top\"\n                      alt=\"\"\n                    />\n                  </div>\n                  <h5 className=\"card-title\">\n                    <a ref={get_user_first_name}> </a>\n                    <a ref={get_user_last_name}></a>\n                  </h5>\n                  <p className=\"card-text\">\n                    <a ref={get_username}></a>\n                      <br />\n                      \n                    <span className=\"phone\" ref={get_user_email}></span>\n                  </p>\n                </div>\n              </div>\n              </div>\n            </div>\n            </div>\n              </PrivateRoute>\n              <PublicRoute path=\"/login\" component={Login} />\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n                <PrivateRoute  path=\"/Note\" component={Note}>\n\n                    \n                    <div>\n                    <CreateArea onAdd={addNote} />\n                  {notes.map((noteItem, index) => {\n                    return (\n                      <Note\n                        key={index}\n                        id={index}\n                        title={noteItem.title}\n                        content={noteItem.content}\n                        onDelete={deleteNote}\n                      />\n                    );\n                  })} \n                    </div>\n                  </PrivateRoute>\n\n                  <Route exact path=\"/\" component={Notes} />\n                <Route exact path=\"/notes/:id/edit\" component={EditNote} />\n                <Route exact path=\"/notes/create\" component={CreateNote} />\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}