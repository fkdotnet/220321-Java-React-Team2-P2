{"ast":null,"code":"import _slicedToArray from \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        notes = _useState2[0],\n        setNotes = _useState2[1];\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  } // => as function to shorten my code\n\n\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n  function createAccount(infoList) {\n    return React.createElement(Account, {\n      key: infoList.id,\n      img: infoList.imgURL,\n      uname: infoList.username,\n      fname: infoList.first_name,\n      lname: infoList.last_name,\n      email: infoList.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    });\n  }\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        authLoading = _useState4[0],\n        setAuthLoading = _useState4[1];\n\n  useEffect(() => {\n    const token = getToken();\n\n    if (!token) {\n      return;\n    }\n\n    axios.get(`\"http://localhost:8080/api/auth/signin\"/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.accessToken, response.data.username);\n      setAuthLoading(false);\n    }).catch(error => {\n      removeUserSession();\n      setAuthLoading(false);\n    });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Checking Authentication...\");\n  }\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"active\",\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Home\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Login\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/Dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Logout\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/Note\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Add note\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"User Info\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/notes/create\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"create\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/notes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"User Info\")), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/Account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"dl\", {\n    className: \"dictionary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, infoList.map(createAccount)))), React.createElement(PublicRoute, {\n    path: \"/login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/dashboard\",\n    component: Dashboard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/Note\",\n    component: Note,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(CreateArea, {\n    onAdd: addNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), notes.map((noteItem, index) => {\n    return React.createElement(Note, {\n      key: index,\n      id: index,\n      title: noteItem.title,\n      content: noteItem.content,\n      onDelete: deleteNote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    });\n  }))), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Notes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/notes/:id/edit\",\n    component: EditNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/notes/create\",\n    component: CreateNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Switch","Route","NavLink","axios","Account","Login","infoList","Dashboard","CreateArea","PrivateRoute","PublicRoute","Home","Profile","Note","getToken","removeUserSession","setUserSession","Notes","EditNote","CreateNote","App","notes","setNotes","addNote","newNote","prevNotes","deleteNote","id","filter","noteItem","index","createAccount","imgURL","username","first_name","last_name","email","authLoading","setAuthLoading","token","get","then","response","data","accessToken","catch","error","map","title","content"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\n\n\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\n\n\n  \n\n\n\n  const [notes, setNotes] = useState([]);\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  }\n// => as function to shorten my code\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n  function createAccount(infoList) {\n    return (\n      <Account\n        key={infoList.id}\n        img={infoList.imgURL}\n        uname={infoList.username}\n        fname={infoList.first_name}\n        lname={infoList.last_name}\n        email={infoList.email}\n      />\n      \n    );\n  }\n\n\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n    if (!token) {\n      return;\n    }\n\n    axios.get(`\"http://localhost:8080/api/auth/signin\"/verifyToken?token=${token}`).then(response => {\n      setUserSession(response.data.accessToken, response.data.username);\n      setAuthLoading(false);\n    }).catch(error => {\n      removeUserSession();\n      setAuthLoading(false);\n    });\n  }, []);\n\n  if (authLoading && getToken()) {\n    return <div className=\"content\">Checking Authentication...</div>\n  }\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"header\">\n          <NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink>\n\n            <NavLink activeClassName=\"active\" to=\"/login\">Login</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Dashboard\">Logout</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Note\">Add note</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/account\">User Info</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes/create\">create</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes\">User Info</NavLink>\n\n\n\n          </div>\n          <div className=\"content\">\n            <Switch>\n              \n            <Route exact path=\"/\" component={Home} />\n\n            <PrivateRoute path=\"/Account\">\n                <div>\n                  <dl className=\"dictionary\">{infoList.map(createAccount)}</dl>\n              </div>\n              </PrivateRoute>\n              <PublicRoute path=\"/login\" component={Login} />\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n                <PrivateRoute  path=\"/Note\" component={Note}>\n\n                    \n                    <div>\n                    <CreateArea onAdd={addNote} />\n                  {notes.map((noteItem, index) => {\n                    return (\n                      <Note\n                        key={index}\n                        id={index}\n                        title={noteItem.title}\n                        content={noteItem.content}\n                        onDelete={deleteNote}\n                      />\n                    );\n                  })} \n                    </div>\n                  </PrivateRoute>\n\n                  <Route exact path=\"/\" component={Notes} />\n                <Route exact path=\"/notes/:id/edit\" component={EditNote} />\n                <Route exact path=\"/notes/create\" component={CreateNote} />\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}