{"ast":null,"code":"import _slicedToArray from \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport apiClient from './http-common';\nimport userProfile from './userProfile';\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        profile = _useState2[0],\n        setProfile = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        getResult = _useState4[0],\n        setGetResult = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        notes = _useState6[0],\n        setNotes = _useState6[1];\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  } // => as function to shorten my code\n\n\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n  const _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        authLoading = _useState8[0],\n        setAuthLoading = _useState8[1];\n\n  useEffect(() => {\n    const token = getToken();\n\n    const fetchUser = async () => {\n      try {\n        const res = await apiClient.get(\"/users/\" + localStorage.getItem(\"user_id\"), {\n          headers: {\n            \"Authorization\": localStorage.getItem(\"TokenHeader\")\n          }\n        });\n        console.log(res.data);\n        setProfile(res.data);\n      } catch (err) {}\n    };\n\n    if (!token) {\n      return;\n    } else fetchUser();\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"active\",\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Home\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Login\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/Dashboard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Logout\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/Note\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Add note\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"User Info\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/notes/create\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"create\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/notes\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"User Info\")), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/Account\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(PublicRoute, {\n    path: \"/login\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/dashboard\",\n    component: Dashboard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/Note\",\n    component: Note,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Notes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/notes/:id/edit\",\n    component: EditNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/notes/create\",\n    component: CreateNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/jacob/eclipse-workspace/darkmode-p2/login-app/src/App.js"],"names":["React","useState","useEffect","useRef","BrowserRouter","Switch","Route","NavLink","axios","Account","Login","infoList","Dashboard","CreateArea","PrivateRoute","PublicRoute","Home","Profile","Note","getToken","removeUserSession","setUserSession","apiClient","userProfile","Notes","EditNote","CreateNote","App","profile","setProfile","getResult","setGetResult","notes","setNotes","addNote","newNote","prevNotes","deleteNote","id","filter","noteItem","index","authLoading","setAuthLoading","token","fetchUser","res","get","localStorage","getItem","headers","console","log","data","err"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport Account from \"./components/Account\";\nimport Login from './Login';\nimport infoList from \"./infoList\";\nimport Dashboard from './Dashboard';\nimport CreateArea from \"./components/CreateArea\";\nimport PrivateRoute from './Utils/PrivateRoute';\nimport PublicRoute from './Utils/PublicRoute';\nimport Home from './Home';\nimport Profile from \"./components/Profile\";\nimport Note from \"./components/Note\";\nimport { getToken, removeUserSession, setUserSession } from './Utils/Common';\nimport apiClient from './http-common';\nimport userProfile from './userProfile'\nimport Notes from './pages/Notes';\nimport EditNote from './pages/EditNote';\nimport CreateNote from './pages/CreateNote';\n\nfunction App() {\n\n\nconst [profile,setProfile] = useState(null);\nconst [getResult, setGetResult] = useState(null);\n\nconst [notes, setNotes] = useState([]);\n\n\n\n\n\n\n\n\n\n  function addNote(newNote) {\n    setNotes(prevNotes => {\n      return [...prevNotes, newNote];\n    });\n  }\n// => as function to shorten my code\n  function deleteNote(id) {\n    setNotes(prevNotes => {\n      return prevNotes.filter((noteItem, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n\n\n  const [authLoading, setAuthLoading] = useState(true);\n\n  useEffect(() => {\n    const token = getToken();\n  \n    const fetchUser = async () =>{\n    try {const res = await apiClient.get(\"/users/\"+localStorage.getItem(\"user_id\"),\n    {headers: { \"Authorization\" : localStorage.getItem(\"TokenHeader\")}})\n    console.log(res.data);\n    setProfile(res.data);\n  }catch(err){\n\n  }\n}\nif (!token) {\n  return;\n  \n}else(fetchUser())\n    \n  }, []);\n\n  \n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <div>\n          <div className=\"header\">\n          <NavLink exact activeClassName=\"active\" to=\"/\">Home</NavLink>\n\n            <NavLink activeClassName=\"active\" to=\"/login\">Login</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Dashboard\">Logout</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/Note\">Add note</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/account\">User Info</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes/create\">create</NavLink>\n            <NavLink activeClassName=\"active\" to=\"/notes\">User Info</NavLink>\n\n\n\n          </div>\n          <div className=\"content\">\n            <Switch>\n              \n            <Route exact path=\"/\" component={Home} />\n\n            <PrivateRoute path=\"/Account\">\n              <div>\n                \n              </div>              \n              </PrivateRoute>\n              <PublicRoute path=\"/login\" component={Login} />\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\n                <PrivateRoute  path=\"/Note\" component={Note}>\n\n                    \n                    <div>\n                    \n                    </div>\n                  </PrivateRoute>\n\n                  <Route exact path=\"/\" component={Notes} />\n                <Route exact path=\"/notes/:id/edit\" component={EditNote} />\n                <Route exact path=\"/notes/create\" component={CreateNote} />\n            </Switch>\n          </div>\n        </div>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}